var ip;async function wrapper(){await waitInterval(meter,1e3)}function run(){""!=(ip=document.getElementById("IP").value)&&wrapper()}async function meter(e){let t="http://"+ip+"/api/v1/data",n=await fetch(t);if(n.ok){let t=await n.json();if(document.getElementById("WifiSSID").innerHTML=t.wifi_ssid,document.getElementById("WifiStrength").innerHTML=t.wifi_strength,document.getElementById("P1").innerHTML=t.active_power_l1_w,t.active_power_l2_w?document.getElementById("P2").innerHTML=t.active_power_l2_w:document.getElementById("P2").innerHTML="",t.active_power_l3_w?document.getElementById("P3").innerHTML=t.active_power_l3_w:document.getElementById("P3").innerHTML="",document.getElementById("PT").innerHTML=t.active_power_w,document.getElementById("ET1").innerHTML=t.total_power_export_t1_kwh,document.getElementById("ET2").innerHTML=t.total_power_export_t2_kwh,document.getElementById("IT1").innerHTML=t.total_power_import_t1_kwh,document.getElementById("IT2").innerHTML=t.total_power_import_t2_kwh,t.gas_timestamp){var r=new Date(t.gas_timestamp);r.getTime();document.getElementById("GTS").innerHTML=r,document.getElementById("G0").innerHTML=t.total_gas_m3}return 60==e}alert("HTTP-Error: "+n.status)}async function waitInterval(e,t){return new Promise((n=>{let r=0;const i=setInterval((async()=>{if(await e(r,i))return n(),clearInterval(i),!0;r++}),t)}))}document.getElementById("IP").value=" 192.168.2.45";